// less/pulsar-soundcloud-player.less
// Copyright (C) 2014 Rob Colbert <rob.isConnected@gmail.com>
// License: MIT
//
// REFERENCE:
// https://github.com/robcolbert/pulsarcms/wiki/Theme-Developers

@pulsarMediaProgressBgColor                 : #000000;
@pulsarMediaProgressFgColor                 : #ff0000;
@pulsarMediaProgressHeight                  : 100px;

@pulsarMediaActiveBgColor                   : rgb(16,48,64);
@pulsarMediaActiveTextColor                 : rgb(220,220,220);

@pulsarMediaMarginCollapsed                 : 2px;
@pulsarMediaMarginOpen                      : 5px;
@pulsarMediaPaddingOpen                     : 8px;

.pulsar-widget {

  .game-canvas, .display-panel {
    display:none;
  }

  .pulsarPerspectiveTransform(center, 75%, 500px);

  .soundcloud-player {
    position:relative;
    transform-origin: center 75%;
    transition: transform @pulsarTransitionTime, box-shadow @pulsarTransitionTime;

    button {
      border:none;
      background:@pulsarBgColor;
      color:@pulsarTextColor;
    }

    &.active {
      /*transform: translate3d(0,-2px,5px) rotateX(-0.25deg);*/
      box-shadow: 0 2px 12px rgba(0,0,90,0.7);

      &:hover {
        box-shadow: 0 2px 24px rgba(128,255,128,0.7);
      }

      button {
        background-color:@pulsarMediaActiveBgColor;
        color:@pulsarMediaActiveTextColor;
      }

      .heading, .description, .media-bar, .controls {
        background-color:@pulsarMediaActiveBgColor;
        color:@pulsarMediaActiveTextColor;
      }

      .description, .media-bar {
        margin:@pulsarMediaMarginOpen;
      }

      .heading .genre {
        background-color:lighten(@pulsarMediaActiveBgColor, 20%);
        color:@pulsarMediaActiveTextColor;
      }

      .heading, .description, .media-bar {
        margin-bottom:@pulsarMediaMarginOpen;
      }

      a:link {
        color:#e8e80a;
        text-decoration:@pulsarAnchorLinkDecoration;
      }
      a:hover {
        color:#e8e80a;
        text-decoration:@pulsarAnchorHoverDecoration;
      }
      a:active {
        color:#e80a0a;
        text-decoration:@pulsarAnchorActiveDecoration;
      }
      a:visited {
        color:#e8e80a;
        text-decoration:@pulsarAnchorVisitedDecoration;
      }

      a.btn:link {
        color:#e8e80a;
        text-decoration:none;
      }

      ::-webkit-scrollbar-track {
        background-color:lighten(rgb(16,48,64), 8%);
      }

      ::-webkit-scrollbar-thumb {
        background-color:lighten(rgb(16,48,64), 20%);
        box-shadow:none;
      }

    }

    .heading {
      margin-bottom:@pulsarMediaMarginCollapsed;
      border:none;
      transition: all @pulsarTransitionTime;

      .title {
        margin-bottom:8px;
        font-size:32px;
        line-height:1.1em;
      }

      .genre {
        float:right;
        padding:8px;
        margin-left:16px;
        margin-bottom:8px;
        background-color:@pulsarWidgetBgColor;
        border-radius:4px;
        font-size:16px;
        line-height:1.1em;
        transition: all @pulsarTransitionTime;
      }

      .byline-block {
        display:inline-block;
        margin:0 8px;
      }
    }

    .description {
      max-height:160px;
      padding:16px;
      margin-bottom:@pulsarMediaMarginCollapsed;
      overflow:auto;
      background-color:@pulsarBgColor;
      color:@pulsarTextColor;
      box-shadow:0 0 5px rgba(0,0,0,0.3);
      font-size:16px;
      line-height:1.1em;
      transition: all @pulsarTransitionTime;
    }

    .media-bar {
      position:relative;
      height:128px + 16px;
      padding:@pulsarMediaPaddingOpen;
      margin-bottom:@pulsarMediaMarginCollapsed;
      background-color:@pulsarBgColor;
      color:@pulsarTextColor;
      transition: all @pulsarTransitionTime;

      &.active {
        background-color:@pulsarTextColor;
        color:@pulsarBgColor;
      }

      .artwork-image {
        position:absolute;
        left:8px; top:8px;
        width:128px; height:128px;
        img { width:100%; height:100%; }
      }

      .progress-container {
        position:absolute;
        top:8px; right:8px; bottom:64px + 8px; left:128px + 16px;
        background-color:rgb(0,0,0);
        color:rgb(192,192,192);

        .progress-bar {
          position:absolute;
          top:0; left:0;
          width:0; height:100%;
          background-color:@pulsarMediaProgressFgColor;
        }

        .waveform-container {
          position:absolute;
          top:0; left:0;
          width:100%;
          height:100%;
          img.waveform {
            width:100%;
            height:100%;
          }
        }
      }

      .visualiser-container {
        position:absolute;
        top:64px + 8px; right:8px; bottom:8px; left:128px + 16px;
        background-color:@pulsarMediaProgressBgColor;
        color:rgb(192,192,192);
        canvas.visualiser {
          position:relative;
          background:none;
          width:100%;
          height:100%;
        }
      }
    }

    .controls {
      position:relative;
      width:100%;
      padding:16px;
      background-color:@pulsarBgColor;
      color:@pulsarTextColor;

      .engine-status {
        position:relative;
        height:40px;
        padding:4px 0;
        background:none;
      }
    }
  }

  &.full-screen {
    position:absolute;
    top:0; right:0; bottom:0; left:0;
    padding:0;
    margin:0;
    background:rgba(0,0,0,0.75);
/*  background-image:url('/images/mediaplayer-bg-002.jpg'); */
    background-position:center center;
    background-repeat:no-repeat;
    background-size:cover;

    .soundcloud-player {
      position:absolute;
      right:60%; bottom:0; left:0;
      height:145px;

      .heading, .description, .media-bar, .controls, .genre {
        background:black;
      }
      .heading, .media-bar {
        margin-bottom:0;
      }
      .description, .byline {
        display:none;
      }
      .media-bar {
        padding:0;
      }

      &.active {
        /*transform: translate3d(0,-2px,5px) rotateX(-0.25deg);*/
        box-shadow: none;

        button {
          background:none;
        }

        .heading, .description, .media-bar, .controls, .genre {
          background:none;
        }
        .media-bar {
          margin:0;
          padding:@pulsarMediaPaddingOpen;
          box-shadow:none;
          background-color:rgba(0,0,0,0.75);
        }

        ::-webkit-scrollbar-track {
          background: none;
        }
      }
    }

    .display-panel {
      display:block;
      position:absolute;
      right:0; bottom:0; left:40%;
      height:144px;
      background-color:rgba(0,0,0,0.5);
      color:#e8e8e8;

      h1, h2, h3, h4, h5, h6 {
        margin:8px;
        padding:0;
      }

      .display-item {
        position:relative;
        top:-2px;
        padding:8px;
        margin:6px 8px;
        border:solid 1px transparent;
        border-radius:4px;

        background-color:rgba(0,0,0,0.5);
        color:#e8e8e8;
        font-size:24px;
        line-height:1em;

        user-select:none;
        cursor:default;

        .display-label {
          display:inline-block;
          padding:4px;
          background-color:rgba(255,255,255,0.5);
          border-top-left-radius:4px;
          border-bottom-left-radius:4px;
          border-top-right-radius:none;
          border-bottom-right-radius:none;
          color:black;
          user-select:none;
        }
        .display-value {
          display:inline-block;
          padding:4px 4px 4px 0;
          border-top-left-radius:none;
          border-bottom-left-radius:none;
          border-top-right-radius:4px;
          border-bottom-right-radius:4px;
          user-select:none;
        }
      }

      button {
        margin:4px 8px 4px 8px;
        padding:8px 16px;
        background-color:rgba(0,0,0,0.4);
        color:rgb(192,192,192);
        border:solid 1px transparent;
        border-radius:4px;
        font-size:24px;
        line-height:1em;

        span {
          padding:3px 0 2px 0;
        }

        &:hover {
          background-color:rgb(32,32,48);
          border-color:rgb(192,192,192);
        }

        &.tight {
          margin:0;
        }
      }

      .controls {
        position:absolute;
        left:0; right:0; bottom:4px;

        img.sc-logo {
          position:absolute;
          right:8px; bottom:8px;
        }
      }
    }

    canvas.pulsar-threejs {
      display:block;
      position:absolute;
      top:0; right:0; bottom:0; left:0;
      width:100%;
      height:100%;
      background:none;
      color:rgb(192,192,192);
      font-size:16px;
      line-height:1em;
    }

  }
}

.video-container {
  position: relative;
  padding-bottom: 56.25%;
  margin-bottom:16px;
  height: 0; overflow: hidden;
  iframe, object, embed {
    position: absolute;
    top: 0; right:0; bottom:0; left:0;
    width: 100%;
    height: 100%;
  }
}
.video-player {
  position: relative;
  padding-bottom: 56.25%;
  height: 0; overflow: hidden;
}
