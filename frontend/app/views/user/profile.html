<div class="pulsar-widget" ng-show="!haveError">

  <div class="heading">
    <div class="heading-wrap">
      <input class="display-name"
           ng-model="user.displayName"
           ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 2000, 'blur': 0 }}"
           ng-change="contentChanged()"
           ng-show="isMyProfile"
           />
      <div class="display-name" ng-show="!isMyProfile">{{user.displayName}}</div>
      <div class="pull-right"
           style="margin-left:16px;"
           ng-show="isSaving"
           ><span class="glyphicon glyphicon-floppy-save"></span> SAVING</div>
      <div class="stats-block">
        <span class="glyphicon glyphicon-user" title="Member Since"></span> member since: {{calendarMoment(user.created, 'MMM Do YY')}}
      </div>
      <div class="stats-block">
        <span class="glyphicon glyphicon-cloud" title="Last Login"></span> last login: {{fromNow(user.lastLogin)}}
      </div>
    </div>
  </div>

  <div class="user-profile container-fluid">

    <div class="col-lg-9">

      <section class="row-fluid user-story">
        <div class="col-sm-4">

          <div class="profile-photo-wrap" file-drop-area="user.droppedPhoto" file-drop-area-type="image/*">
            <img class="profile-photo" ng-src="{{user.photoUrl}}" title="{{user.displayName}}" />
            <!-- img class="profile-photo" src="images/rob-profile-dark.jpg" title="{{user.displayName}}" / -->
            <div class="profile-photo-menu">
              <button class="btn btn-sm btn-primary" ng-click="changePhoto()">Change Photo</button>
              <button class="btn btn-sm btn-default" ng-click="removePhoto()">Remove Photo</button>
              <button class="btn btn-sm btn-default" ng-click="viewPhotoHistoy()">View History</button>
            </div>
          </div>

          <section ng-show="!isMyProfile">
            <div class="pulsar-widget">
              <button class="btn btn-default btn-xs">
                <span class="glyphicon glyphicon-user" style="font-size:0.9em;"></span> Add to Contacts
              </button>
              <button class="btn btn-default btn-xs">
                <span class="glyphicon glyphicon-envelope" style="font-size:0.9em;"></span> Message
              </button>
              <button class="btn btn-default btn-xs">
                <span class="glyphicon glyphicon-facetime-video" style="font-size:0.9em;"></span> Video Call
              </button>
              <button class="btn btn-default btn-xs">
                <span class="glyphicon glyphicon-earphone" style="font-size:0.9em;"></span> Voice Call
              </button>
              <button class="btn btn-default btn-xs">
                <span class="glyphicon glyphicon-ban-circle" style="font-size:0.9em;"></span> Block
              </button>
            </div>
          </section>

          <section ng-show="isMyProfile">
            <div class="pulsar-widget">
              <div class="heading">
                <div class="heading-wrap">
                  <div class="title">Contacts</div>
                </div>
              </div>

              <div class="body">
                <div class="content">
                </div>
              </div>
            </div>
          </section>

        </div>
        <div class="col-sm-8">

          <div class="tagline"
               ng-model="user.tagline"
               ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 2000, 'blur': 0 }}"
               ng-change="contentChanged()"
               editor-toolbar="basic"
               contenteditable
               ng-show="isMyProfile"
               ></div>
          <div class="tagline" ng-show="!isMyProfile" ng-bind-html="user.tagline"></div>

          <div class="about"
               ng-model="user.about"
               ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 2000, 'blur': 0 }}"
               ng-change="contentChanged()"
               editor-toolbar="nomedia"
               contenteditable
               ng-show="isMyProfile"
               ></div>
          <div class="about" ng-show="!isMyProfile" ng-bind-html="user.about"></div>
        </div>
        <div class="clearfix"></div>
      </section>

      <section ng-show="isMyProfile">
        <div class="btn-group btn-group-justified" data-toggle="buttons">
          <label class="btn btn-default" ng-class="pulseStatusFilter === 'published' ? 'active' : ''" ng-click="setPulseFilter('published')">
            <input type="radio" name="options" id="status-published"> Published
          </label>
          <label class="btn btn-default" ng-class="pulseStatusFilter === 'draft' ? 'active' : ''" ng-click="setPulseFilter('draft')">
            <input type="radio" name="options" id="status-draft"> Drafts
          </label>
          <label class="btn btn-default" ng-class="pulseStatusFilter === 'trash' ? 'active' : ''" ng-click="setPulseFilter('trash')">
            <input type="radio" name="options" id="stauts-trash"> Trash
          </label>
        </div>
      </section>

      <section ng-show="pulses.pulses.length &gt; 0">
        <div class="content">
          <div class="row-fluid pulse-list">
            <div class="col-lg-4" ng-repeat="pulse in pulses.pulses">
              <div class="flip-container"
                   ng-mouseover="pulse.hover = true"
                   ng-mouseleave="pulse.hover = false"
                   >
                <pulsar:pulse-summary ng-click="loadPulse(pulse)"></pulsar:pulse-summary>
              </div>
            </div>
            <div class="clearfix"></div>
          </div>
        </div>
      </section>

      <section ng-show="pulses.pulses.length === 0">
        <div class="pulsar-widget" ng-switch="pulseStatusFilter">
          <div ng-switch-when="published">
            <p>
              {{user.displayName}} has no published pulses.
            </p>
          </div>
          <div ng-switch-when="draft">
            <p>
              {{user.displayName}} has no working draft pulses.
            </p>
          </div>
          <div ng-switch-when="trash">
            <p>
              {{user.displayName}} has no trashed pulses.
            </p>
          </div>
        </div>
      </section>

      <section>
        <div class="pager">
          <ul>
            <li ng-show="currentPage &gt; 1"><a ng-href="/#/pulses?p={{currentPage - 1}}">Newer</a></li>
            <li ng-repeat="page in pulses.pages"><a ng-href="/#/pulses?p={{page}}">{{page}}</a></li>
            <li ng-show="currentPage &lt; pulses.totalPages"><a ng-href="/#/pulses?p={{currentPage + 1}}">Older</a></li>
          </ul>
        </div>
      </section>

    </div>

    <div class="col-lg-3 sidebar">
      <ng-include src="'views/sidebar.html'"></ng-include>
    </div>

    <div class="clearfix"></div>

  </div>

</div>
