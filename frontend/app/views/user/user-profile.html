<div class="pulsar-widget" ng-show="!haveError">

  <div class="heading">
    <div class="heading-wrap">
      <input class="display-name"
           ng-model="user.displayName"
           ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 2000, 'blur': 0 }}"
           ng-change="contentChanged()"
           ng-show="isMyProfile"
           />
      <div class="display-name" ng-show="!isMyProfile">{{user.displayName}}</div>
      <div class="pull-right"
           style="margin-left:16px;"
           ng-show="isSaving"
           ><span class="glyphicon glyphicon-floppy-save"></span> SAVING</div>
      <div class="stats-block">
        <span class="glyphicon glyphicon-user" title="Member Since"></span> member since: {{calendarMoment(user.created, 'MMM Do YY')}}
      </div>
      <div class="stats-block">
        <span class="glyphicon glyphicon-cloud" title="Last Login"></span> last login: {{fromNow(user.lastLogin)}}
      </div>
    </div>
  </div>

  <div class="user-profile container-fluid">

    <div class="col-lg-9">

      <section class="row-fluid user-story">
        <div class="col-sm-4">

          <div class="profile-photo-wrap">
            <img class="profile-photo" ng-src="{{user.photoUrl}}" />
            <!-- img class="profile-photo" src="images/rob-profile-dark.jpg" title="{{user.displayName}}" / -->
            <div class="profile-photo-menu">
              <button class="btn btn-sm btn-primary">Change Photo</button>
              <button class="btn btn-sm btn-default">Remove Photo</button>
            </div>
          </div>

          <!-- form name="quick-message-form">
            <div contenteditable ng-model="message.content"></div>
            <button class="btn btn-default">
              <span class="glyphicon glyphicon-envelope"> Send Message
            </button>
          </form -->

        </div>
        <div class="col-sm-8">

          <div class="tagline"
               ng-model="user.tagline"
               ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 2000, 'blur': 0 }}"
               ng-change="contentChanged()"
               editor-toolbar="basic"
               contenteditable
               ng-show="isMyProfile"
               ></div>
          <div class="tagline" ng-show="!isMyProfile" ng-bind-html="user.tagline"></div>

          <div class="about"
               ng-model="user.about"
               ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 2000, 'blur': 0 }}"
               ng-change="contentChanged()"
               editor-toolbar="full"
               contenteditable
               ng-show="isMyProfile"
               ></div>
          <div class="about" ng-show="!isMyProfile" ng-bind-html="user.about"></div>
        </div>
        <div class="clearfix"></div>
      </section>

      <section class="row-fluid pulse-list" ng-show="pulses.pulses.length &gt; 0">
        <div class="col-lg-3" ng-repeat="pulse in pulses.pulses">
          <div class="flip-container" ng-mouseover="pulse.hover = true" ng-mouseleave="pulse.hover = false">
            <pulsar:pulse-summary></pulsar:pulse-summary>
          </div>
        </div>
        <div class="clearfix"></div>
      </section>

      <div class="pager">
        <ul>
          <li ng-show="currentPage &gt; 1"><a ng-href="/#/pulses?p={{currentPage - 1}}">Newer</a></li>
          <li ng-repeat="page in pulses.pages"><a ng-href="/#/pulses?p={{page}}">{{page}}</a></li>
          <li ng-show="currentPage &lt; pulses.totalPages"><a ng-href="/#/pulses?p={{currentPage + 1}}">Older</a></li>
        </ul>
      </div>

      <div ng-show="pulses.pulses.length === 0">
        <h1>Tumbleweeds</h1>
        <p>
          Sadly, this Pulsar is empty. It has no pulse. It needs people like you to
          <a href="/#/signup" alt="Create a Pulsar profile now">create a profile</a>
          and publish some pulses for others to read.
        </p>
      </div>

    </div>

    <div class="col-lg-3 sidebar">
      <ng-include src="'views/sidebar.html'"></ng-include>
    </div>

    <div class="clearfix"></div>

  </div>

</div>
